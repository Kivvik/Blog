var artee=function(e){"use strict";var t=document.documentElement,n=".artee-index-post",a=".artee-sort-options",o=".artee-sort-groups-options",i=".artee-index-post-img",r=".artee-image-overlay",s=".artee-gallery",l=".artee-image-popup",c=".filtered .artee-image-popup",d=".gmaps",f=".artee-back-to-top",u=".artee-load-more",p="#artee-grid",m=".older-posts",h="#artee-grid",g=".twentytwenty-container",v=".artee-mobile-menu a",y=".artee-mobile-close-btn",b=".artee-menu",C=".artee-index-sort",w=".artee-mobile-sort > i.fa",k=function(){t.setAttribute("data-useragent",navigator.userAgent)},S=function(){e(s).length&&e(s).each(function(){e(this).owlCarousel({autoPlay:5e3,stopOnHover:!0,itemsScaleUp:!0})})},T=function(){var t={type:"image",removalDelay:500,midClick:!0,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-in"},open:function(){e("html").css("margin-right","0")}},closeOnContentClick:!0,gallery:{enabled:!0}};e(".filtered").length?e(c).magnificPopup(t):e(l).length&&e(l).magnificPopup(t)},x=function(){GMaps.prototype.addStyle=function(e){var t=new google.maps.StyledMapType(e.styles,e.styledMapName);this.map.mapTypes.set(e.mapTypeId,t)},GMaps.prototype.setStyle=function(e){this.map.setMapTypeId(e)}},M=function(){var t,n,a,o;e(d).length&&e(d).each(function(){t=e(this).prop("id"),n=e(this).data("lat"),a=e(this).data("lng"),o=e(this).data("zoom");var i=new GMaps({div:"#"+t,lat:n,lng:a,zoom:o}),r=subtle_grayscale;i.addStyle({styledMapName:"Styled Map",styles:r,mapTypeId:"map_style"}),i.setStyle("map_style")})},D=function(){e(f).length&&(e(window).scroll(function(){e(this).scrollTop()>300?e(f).removeClass("hidden"):e(f).addClass("hidden")}),e(f).on("click",function(){e("body,html").animate({scrollTop:0},800)}))},z=function(){e(window).width()<1120&&e("html, body").stop(!0,!1).animate({scrollTop:e(p).offset().top},"slow","linear")},L=function(){imagesLoaded(i,function(){var t=e(p).shuffle({itemSelector:n});e(o).length&&e(o).find("li > a").on("click",function(n){n.preventDefault();var a=e(this).data("option");e(o).find("li > a").removeClass("active"),e(this).addClass("active"),t.shuffle("shuffle",a),z(),T()}),e(a).length&&e(a).find("li > a").on("click",function(n){n.preventDefault();var o=e(this).data("option"),i={};e(a).find("li > a").removeClass("active"),e(this).addClass("active"),"title-asc"===o?i={by:function(e){return e.data("title").toLowerCase()}}:"title-desc"===o&&(i={reverse:!0,by:function(e){return e.data("title").toLowerCase()}}),t.shuffle("sort",i),z(),T()}),e(u).length&&e(u).on("click",function(e){e.preventDefault(),N(t)})})},A=function(){e(m).length<1&&e(u).text("No more articles").addClass("no-more-data")},N=function(t){var n,a,o=e(m).attr("href"),r=[];void 0!==o&&e.get(o,function(o){n=e(h,o),a=e(m,o),n.find("article").each(function(){r.push(this)}),e(p).append(n.contents()),imagesLoaded(i,function(){t.shuffle("appended",e(r),!1,!1),void 0!==a.attr("href")?e(m).attr("href",a.attr("href")):(e(m).remove(),e(u).text("No more articles").addClass("no-more-data")),G(),T()})})},G=function(){e(i).length&&(e(i).find("iframe").each(function(){e(this).closest(i).find(r).remove()}),e(i).find(s).each(function(){e(this).closest(i).find(r).remove()}),e(i).find("p img:not("+s+" img, .orbit-container img, "+g+" img)").each(function(){var t=e(this).prop("src"),a=e(this).closest(n).find(".artee-index-post-title").find("a").attr("href");e(this).wrap('<a href="'+a+'"/>'),e(this).closest(i).find(".zoom-icon").attr({href:t}).addClass("artee-image-popup")}),e(i).on("mouseenter",function(){e(r,this).addClass("hovered")}),e(i).on("mouseleave",function(){e(r,this).removeClass("hovered")}))},I=function(){e(g).length&&imagesLoaded(g,function(){e(g).each(function(){e(this).twentytwenty()})})},O=function(){e(b).length&&(e(v).on("click",function(t){t.preventDefault(),e(b).addClass("opened")}),e(y).on("click",function(t){t.preventDefault(),e(b).removeClass("opened")}))},P=function(){e(C).length&&e(w).on("click",function(){e(C).slideToggle()})},_=function(){e("html").niceScroll({cursorcolor:"#4a4a4a",cursorwidth:10,cursorborder:"1px solid #4a4a4a",zindex:99999,cursorborderradius:3,scrollspeed:80,mousescrollstep:40,autohidemode:"cursor"})},j=function(){if(e('html[data-useragent*="Android 4.4"]').length){var t=e(".artee-body-background").attr("style");e("body").attr("style",t),e(".artee-body-background").removeAttr("style")}};return{init:function(){e(document).foundation(),k(),I(),O(),P(),S(),G(),x(),M(),D(),L(),T(),A(),_(),j()}}}(jQuery);!function(){"use strict";artee.init()}();